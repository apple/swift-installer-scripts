<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs" xmlns:ui="http://wixtoolset.org/schemas/v4/wxs/ui">
  <Package
    Language="1033"
    Manufacturer="swift.org"
    Name="!(loc.Fmt_ProductName)"
    UpgradeCode="45f1ae7a-4d90-414d-80b3-a5a45898b212"
    Version="$(var.ProductVersion)"
    Scope="$(PackageScope)">

    <MediaTemplate CabinetTemplate="fmt{0}.cab" />

    <Component Id="swift_format.exe" Directory="Tools">
      <File Source="$(var.SWIFT_FORMAT_BUILD)\swift-format.exe" />
    </Component>

    <Component Id="EnvironmentVariables" Guid="c1a01e55-3353-4eca-8b58-9960e57a3758" Directory="Tools">
      <Environment Id="Path" Action="set" Name="Path" Part="last" Permanent="no" System="yes" Value="[Tools]" />
    </Component>

    <Feature Id="SwiftFormat" AllowAbsent="no" Title="!(loc.Fmt_ProductName)">
      <ComponentRef Id="swift_format.exe" />
      <ComponentRef Id="EnvironmentVariables" />
    </Feature>
  </Package>
</Wix>
