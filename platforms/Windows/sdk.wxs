<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs" xmlns:ui="http://wixtoolset.org/schemas/v4/wxs/ui">
  <?include version.wxi?>
  <Package
      Language="1033"
      Manufacturer="swift.org"
      Name="Swift Windows SDK ($(var.ProcessorArchitecture))"
      UpgradeCode="4c37a396-d9e2-490a-89b7-0a3d271d847f"
      Version="$(var.ProductVersion)"
      Scope="perUserOrMachine">
    <SummaryInformation Description="Swift Windows SDK ($(var.ProcessorArchitecture))" />

    <Media Id="1" Cabinet="WindowsSDK.cab" EmbedCab="yes" CompressionLevel="high" />

    <StandardDirectory Id="ProgramFiles64Folder">
      <Directory Id="INSTALLDIR" Name="Swift">
        <Directory Id="DeveloperPlatforms" Name="Platforms">
          <Directory Id="WindowsPlatform" Name="Windows.platform">
            <Directory Id="WindowsPlatform_Developer" Name="Developer">
              <Directory Id="WindowsPlatform_Developer_Library" Name="Library">
                <!-- XCTest -->
                <!--
                  FIXME(compnerd) this should actually be the proper version
                  of XCTest, and needs to be reflected in the plist as well.
                -->
                <Directory Id="XCTest" Name="XCTest-development">
                  <Directory Id="XCTest_usr" Name="usr">
                    <Directory Id="XCTest_usr_bin" Name="$(var.ArchBinDir)">
                    </Directory>
                    <Directory Id="XCTest_usr_lib" Name="lib">
                      <Directory Id="XCTest_usr_lib_swift" Name="swift">
                        <Directory Id="XCTest_usr_lib_swift_windows" Name="windows">
                          <Directory Id="XCTest_usr_lib_swift_windows_ARCH" Name="$(var.ArchArchDir)">
                          </Directory>
                          <Directory Id="XCTest.swiftmodule" Name="XCTest.swiftmodule">
                          </Directory>
                        </Directory>
                      </Directory>
                    </Directory>
                  </Directory>
                </Directory>
              </Directory>
              <Directory Id="SDKs" Name="SDKs">
                <!-- Windows.sdk -->
                <Directory Id="WindowsSDK" Name="Windows.sdk">
                  <Directory Id="WindowsSDK_usr" Name="usr">
                    <Directory Id="WindowsSDK_usr_include" Name="include">
                      <Directory Id="WindowsSDK_usr_include_Block" Name="Block">
                      </Directory>
                      <Directory Id="WindowsSDK_usr_include_dispatch" Name="dispatch">
                      </Directory>
                      <Directory Id="WindowsSDK_usr_include_os" Name="os">
                      </Directory>
                      <Directory Id="WindowsSDK_usr_include_swift" Name="swift">
                        <Directory Id="WindowsSDK_usr_include_swift_SwiftRemoteMirror" Name="SwiftRemoteMirror">
                        </Directory>
                      </Directory>
                    </Directory>
                    <Directory Id="WindowsSDK_usr_lib" Name="lib">
                      <Directory Id="WindowsSDK_usr_lib_swift" Name="swift">
                        <Directory Id="WindowsSDK_usr_lib_swift_shims" Name="shims">
                        </Directory>
                        <Directory Id="WindowsSDK_usr_lib_swift_windows" Name="windows">
                          <Directory Id="_Concurrency.swiftmodule" Name="_Concurrency.swiftmodule">
                          </Directory>
                          <Directory Id="_Differentiation.swiftmodule" Name="_Differentiation.swiftmodule">
                          </Directory>
                          <Directory Id="_RegexParser.swiftmodule" Name="_RegexParser.swiftmodule">
                          </Directory>
                          <Directory Id="_StringProcessing.swiftmodule" Name="_StringProcessing.swiftmodule">
                          </Directory>
                          <Directory Id="CRT.swiftmodule" Name="CRT.swiftmodule">
                          </Directory>
                          <Directory Id="Cxx.swiftmodule" Name="Cxx.swiftmodule">
                          </Directory>
                          <Directory Id="Distributed.swiftmodule" Name="Distributed.swiftmodule">
                          </Directory>
                          <Directory Id="Dispatch.swiftmodule" Name="Dispatch.swiftmodule">
                          </Directory>
                          <Directory Id="Foundation.swiftmodule" Name="Foundation.swiftmodule">
                          </Directory>
                          <Directory Id="FoundationNetworking.swiftmodule" Name="FoundationNetworking.swiftmodule">
                          </Directory>
                          <Directory Id="FoundationXML.swiftmodule" Name="FoundationXML.swiftmodule">
                          </Directory>
                          <Directory Id="Swift.swiftmodule" Name="Swift.swiftmodule">
                          </Directory>
                          <Directory Id="SwiftOnoneSupport.swiftmodule" Name="SwiftOnoneSupport.swiftmodule">
                          </Directory>
                          <Directory Id="WinSDK.swiftmodule" Name="WinSDK.swiftmodule">
                          </Directory>
                          <Directory Id="WindowsSDK_usr_lib_swift_windows_ARCH" Name="$(var.ArchArchDir)">
                          </Directory>
                        </Directory>
                      </Directory>
                    </Directory>
                    <Directory Id="WindowsSDK_usr_share" Name="share">
                    </Directory>
                  </Directory>
                </Directory>
              </Directory>
            </Directory>
          </Directory>
        </Directory>
      </Directory>
    </StandardDirectory>

    <ComponentGroup Id="XCTest">
      <Component Directory="XCTest_usr_bin" Id="XCTest.dll">
        <File Id="XCTest.dll" Source="$(var.PLATFORM_ROOT)\Developer\Library\XCTest-development\usr\bin\XCTest.dll" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="XCTest_usr_lib_swift_windows_ARCH" Id="XCTest.lib">
        <File Id="XCTest.lib" Source="$(var.PLATFORM_ROOT)\Developer\Library\XCTest-development\usr\lib\swift\windows\XCTest.lib" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="XCTest.swiftmodule" Id="XCTest.swiftdoc">
        <File Id="XCTest.swiftdoc" Name="$(var.ArchTriple).swiftdoc" Source="$(var.PLATFORM_ROOT)\Developer\Library\XCTest-development\usr\lib\swift\windows\$(var.ArchArchDir)\XCTest.swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="XCTest.swiftmodule" Id="XCTest.swiftmodule">
        <File Id="XCTest.swiftmodule" Name="$(var.ArchTriple).swiftmodule" Source="$(var.PLATFORM_ROOT)\Developer\Library\XCTest-development\usr\lib\swift\windows\$(var.ArchArchDir)\XCTest.swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="SwiftRemoteMirror">
      <Component Directory="WindowsSDK_usr_include_swift_SwiftRemoteMirror" Id="MemoryReaderInterface.h">
        <File Id="MemoryReaderInterface.h" Source="$(var.SDK_ROOT)\usr\include\swift\SwiftRemoteMirror\MemoryReaderInterface.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_swift_SwiftRemoteMirror" Id="Platform.h">
        <File Id="Platform.h" Source="$(var.SDK_ROOT)\usr\include\swift\SwiftRemoteMirror\Platform.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_swift_SwiftRemoteMirror" Id="SwiftRemoteMirror.h">
        <File Id="SwiftRemoteMirror.h" Source="$(var.SDK_ROOT)\usr\include\swift\SwiftRemoteMirror\SwiftRemoteMirror.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_swift_SwiftRemoteMirror" Id="SwiftRemoteMirrorTypes.h">
        <File Id="SwiftRemoteMirrorTypes.h" Source="$(var.SDK_ROOT)\usr\include\swift\SwiftRemoteMirror\SwiftRemoteMirrorTypes.h" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_include_swift_SwiftRemoteMirror" Id="SwiftRemoteMirror.modulemap">
        <File Id="SwiftRemoteMirror.modulemap" Source="$(var.SDK_ROOT)\usr\include\swift\SwiftRemoteMirror\module.modulemap" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftRemoteMirror.lib">
        <File Id="swiftRemoteMirror.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftRemoteMirror.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="BlocksRuntime">
      <Component Directory="WindowsSDK_usr_include_Block" Id="Block.h">
        <File Id="Block.h" Source="$(var.SDK_ROOT)\usr\lib\swift\Block\Block.h" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="BlocksRuntime.lib">
        <File Id="BlocksRuntime.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\BlocksRuntime.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="libdispatch">
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="base.h">
        <File Id="base.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\base.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="block.h">
        <File Id="block.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\block.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="data.h">
        <File Id="data.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\data.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="dispatch.h">
        <File Id="dispatch.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\dispatch.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="group.h">
        <File Id="group.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\group.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="introspection.h">
        <File Id="introspection.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\introspection.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="io.h">
        <File Id="io.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\io.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="dispatch.modulemap">
        <File Id="dispatch.modulemap" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\module.modulemap" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="object.h_f87c5a369294493489839a2cabdb7ae7">
        <File Id="object.h_f87c5a369294493489839a2cabdb7ae7" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\object.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="once.h">
        <File Id="once.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\once.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="queue.h">
        <File Id="queue.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\queue.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="semaphore.h">
        <File Id="semaphore.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\semaphore.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="source.h">
        <File Id="source.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\source.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_dispatch" Id="time.h">
        <File Id="time.h" Source="$(var.SDK_ROOT)\usr\lib\swift\dispatch\time.h" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_include_os" Id="generic_base.h">
        <File Id="generic_base.h" Source="$(var.SDK_ROOT)\usr\lib\swift\os\generic_base.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_os" Id="generic_unix_base.h">
        <File Id="generic_unix_base.h" Source="$(var.SDK_ROOT)\usr\lib\swift\os\generic_unix_base.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_os" Id="generic_win_base.h">
        <File Id="generic_win_base.h" Source="$(var.SDK_ROOT)\usr\lib\swift\os\generic_win_base.h" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_include_os" Id="object.h_3af0f0745780408e9fb16b614066623f">
        <File Id="object.h_3af0f0745780408e9fb16b614066623f" Source="$(var.SDK_ROOT)\usr\lib\swift\os\object.h" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="Dispatch.swiftmodule" Id="Dispatch.swiftdoc">
        <File Id="Dispatch.swiftdoc" Name="$(var.ArchTriple).swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\Dispatch.swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="Dispatch.swiftmodule" Id="Dispatch.swiftmodule">
        <File Id="Dispatch.swiftmodule" Name="$(var.ArchTriple).swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\Dispatch.swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="dispatch.lib">
        <File Id="dispatch.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\dispatch.lib" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftDispatch.lib">
        <File Id="swiftDispatch.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\swiftDispatch.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="_Concurrency">
      <Component Directory="_Concurrency.swiftmodule" Id="_Concurrency.swiftdoc">
        <File Id="_Concurrency.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_Concurrency.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="_Concurrency.swiftmodule" Id="_Concurrency.swiftinterface">
        <File Id="_Concurrency.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_Concurrency.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="_Concurrency.swiftmodule" Id="_Concurrency.swiftmodule">
        <File Id="_Concurrency.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_Concurrency.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swift_Concurrency.lib">
        <File Id="swift_Concurrency.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swift_Concurrency.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="_Differentiation">
      <Component Directory="_Differentiation.swiftmodule" Id="_Differentiation.swiftdoc">
        <File Id="_Differentiation.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_Differentiation.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="_Differentiation.swiftmodule" Id="_Differentiation.swiftinterface">
        <File Id="_Differentiation.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_Differentiation.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="_Differentiation.swiftmodule" Id="_Differentiation.swiftmodule">
        <File Id="_Differentiation.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_Differentiation.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swift_Differentiation.lib">
        <File Id="swift_Differentiation.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swift_Differentiation.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="_RegexParser">
      <Component Directory="_RegexParser.swiftmodule" Id="_RegexParser.swiftdoc">
        <File Id="_RegexParser.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_RegexParser.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="_RegexParser.swiftmodule" Id="_RegexParser.swiftinterface">
        <File Id="_RegexParser.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_RegexParser.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="_RegexParser.swiftmodule" Id="_RegexParser.swiftmodule">
        <File Id="_RegexParser.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_RegexParser.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swift_RegexParser.lib">
        <File Id="swift_RegexParser.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swift_RegexParser.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="_StringProcessing">
      <Component Directory="_StringProcessing.swiftmodule" Id="_StringProcessing.swiftdoc">
        <File Id="_StringProcessing.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_StringProcessing.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="_StringProcessing.swiftmodule" Id="_StringProcessing.swiftinterface">
        <File Id="_StringProcessing.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_StringProcessing.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="_StringProcessing.swiftmodule" Id="_StringProcessing.swiftmodule">
        <File Id="_StringProcessing.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\_StringProcessing.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swift_StringProcessing.lib">
        <File Id="swift_StringProcessing.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swift_StringProcessing.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="CRT">
      <Component Directory="CRT.swiftmodule" Id="CRT.swiftdoc">
        <File Id="CRT.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\CRT.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="CRT.swiftmodule" Id="CRT.swiftinterface">
        <File Id="CRT.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\CRT.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="CRT.swiftmodule" Id="CRT.swiftmodule">
        <File Id="CRT.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\CRT.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftCRT.lib">
        <File Id="swiftCRT.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftCRT.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="Cxx">
      <Component Directory="Cxx.swiftmodule" Id="Cxx.swiftdoc">
        <File Id="Cxx.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Cxx.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="Cxx.swiftmodule" Id="Cxx.swiftinterface">
        <File Id="Cxx.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Cxx.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="Cxx.swiftmodule" Id="Cxx.swiftmodule">
        <File Id="Cxx.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Cxx.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftCxx.lib">
        <File Id="swiftCxx.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftCxx.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="Distributed">
      <Component Directory="Distributed.swiftmodule" Id="Distributed.swiftdoc">
        <File Id="Distributed.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Distributed.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="Distributed.swiftmodule" Id="Distributed.swiftinterface">
        <File Id="Distributed.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Distributed.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="Distributed.swiftmodule" Id="Distributed.swiftmodule">
        <File Id="Distributed.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Distributed.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftDistributed.lib">
        <File Id="swiftDistributed.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftDistributed.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="Foundation">
      <Component Directory="Foundation.swiftmodule" Id="Foundation.swiftdoc">
        <File Id="Foundation.swiftdoc" Name="$(var.ArchTriple).swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\Foundation.swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="Foundation.swiftmodule" Id="Foundation.swiftmodule">
        <File Id="Foundation.swiftmodule" Name="$(var.ArchTriple).swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\Foundation.swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="Foundation.lib">
        <File Id="Foundation.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Foundation.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="FoundationNetworking">
      <Component Directory="FoundationNetworking.swiftmodule" Id="FoundationNetworking.swiftdoc">
        <File Id="FoundationNetworking.swiftdoc" Name="$(var.ArchTriple).swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\FoundationNetworking.swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="FoundationNetworking.swiftmodule" Id="FoundationNetworking.swiftmodule">
        <File Id="FoundationNetworking.swiftmodule" Name="$(var.ArchTriple).swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\FoundationNetworking.swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="FoundationNetworking.lib">
        <File Id="FoundationNetworking.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\FoundationNetworking.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="FoundationXML">
      <Component Directory="FoundationXML.swiftmodule" Id="FoundationXML.swiftdoc">
        <File Id="FoundationXML.swiftdoc" Name="$(var.ArchTriple).swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\FoundationXML.swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="FoundationXML.swiftmodule" Id="FoundationXML.swiftmodule">
        <File Id="FoundationXML.swiftmodule" Name="$(var.ArchTriple).swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\FoundationXML.swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="FoundationXML.lib">
        <File Id="FoundationXML.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\FoundationXML.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="Swift">
      <Component Directory="Swift.swiftmodule" Id="Swift.swiftdoc">
        <File Id="Swift.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Swift.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="Swift.swiftmodule" Id="Swift.swiftinterface">
        <File Id="Swift.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Swift.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="Swift.swiftmodule" Id="Swift.swiftmodule">
        <File Id="Swift.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\Swift.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftCore.lib">
        <File Id="swiftCore.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftCore.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="SwiftOnoneSupport">
      <Component Directory="SwiftOnoneSupport.swiftmodule" Id="SwiftOnoneSupport.swiftdoc">
        <File Id="SwiftOnoneSupport.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\SwiftOnoneSupport.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="SwiftOnoneSupport.swiftmodule" Id="SwiftOnoneSupport.swiftinterface">
        <File Id="SwiftOnoneSupport.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\SwiftOnoneSupport.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="SwiftOnoneSupport.swiftmodule" Id="SwiftOnoneSupport.swiftmodule">
        <File Id="SwiftOnoneSupport.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\SwiftOnoneSupport.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftSwiftOnoneSupport.lib">
        <File Id="swiftSwiftOnoneSupport.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftSwiftOnoneSupport.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="WinSDK">
      <Component Directory="WinSDK.swiftmodule" Id="WinSDK.swiftdoc">
        <File Id="WinSDK.swiftdoc" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\WinSDK.swiftmodule\$(var.ArchTriple).swiftdoc" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WinSDK.swiftmodule" Id="WinSDK.swiftinterface">
        <File Id="WinSDK.swiftinterface" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\WinSDK.swiftmodule\$(var.ArchTriple).swiftinterface" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WinSDK.swiftmodule" Id="WinSDK.swiftmodule">
        <File Id="WinSDK.swiftmodule" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\WinSDK.swiftmodule\$(var.ArchTriple).swiftmodule" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftWinSDK.lib">
        <File Id="swiftWinSDK.lib" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftWinSDK.lib" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="libcxxshim">
      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="libcxxshim.h">
        <File Id="libcxxshim.h" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\libcxxshim.h" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="libcxxshim.modulemap">
        <File Id="libcxxshim.modulemap" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\libcxxshim.modulemap" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="Registrar">
      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftrt.obj">
        <File Id="swiftrt.obj" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftrt.obj" Checksum="yes" KeyPath="yes" />
      </Component>
      <!--
      <Component Directory="WindowsSDK_usr_lib_swift_windows_ARCH" Id="swiftrtd.obj">
        <File Id="swiftrtd.obj" Source="$(var.SDK_ROOT)\usr\lib\swift\windows\$(var.ArchArchDir)\swiftrtd.obj" Checksum="yes" KeyPath="yes" />
      </Component>
      -->
    </ComponentGroup>

    <ComponentGroup Id="AuxiliaryFiles">
      <Component Directory="WindowsSDK_usr_share" Id="ucrt.modulemap">
        <File Id="ucrt.modulemap" Source="$(var.SDK_ROOT)\usr\share\ucrt.modulemap" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_share" Id="winsdk.modulemap">
        <File Id="winsdk.modulemap" Source="$(var.SDK_ROOT)\usr\share\winsdk.modulemap" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_share" Id="vcruntime.apinotes">
        <File Id="vcruntime.apinotes" Source="$(var.SDK_ROOT)\usr\share\vcruntime.apinotes" Checksum="yes" KeyPath="yes" />
      </Component>
      <Component Directory="WindowsSDK_usr_share" Id="vcruntime.modulemap">
        <File Id="vcruntime.modulemap" Source="$(var.SDK_ROOT)\usr\share\vcruntime.modulemap" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="Configuration">
      <Component Directory="WindowsSDK" Id="SDKSettings.plist">
        <File Id="SDKSettings.plist" Source="$(var.SDK_ROOT)\SDKSettings.plist" Checksum="yes" KeyPath="yes" />
      </Component>

      <Component Directory="WindowsPlatform" Id="Info.plist">
        <File Id="Info.plist" Source="$(var.PLATFORM_ROOT)\Info.plist" Checksum="yes" KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <ComponentGroup Id="EnvironmentVariables">
      <Component Id="SystemEnvironmentVariables" Condition="ALLUSERS=1" Directory="INSTALLDIR" Guid="bd3ddc62-4c5c-4f6b-806e-02d2c6a65b65">
        <!-- <Condition> %PROCESSOR_ARCHITECTURE~="arm64" </Condition> -->
        <Environment Id="SystemSDKRoot" Action="set" Name="SDKROOT" Part="all" Permanent="no" System="yes" Value="[INSTALLDIR]Platforms\Windows.platform\Developer\SDKs\Windows.sdk" />
      </Component>
      <Component Id="UserEnvironmentVariables" Condition="NOT ALLUSERS=1" Directory="INSTALLDIR" Guid="580f1edd-8744-4be8-8dd8-e519f70a91e4">
        <!-- <Condition> %PROCESSOR_ARCHITECTURE~="arm64" </Condition> -->
        <Environment Id="UserSDKRoot" Action="set" Name="SDKROOT" Part="all" Permanent="no" System="no" Value="[INSTALLDIR]Platforms\Windows.platform\Developer\SDKs\Windows.sdk" />
      </Component>
    </ComponentGroup>

    <!-- Features -->
    <Feature Id="SDK" AllowAbsent="no" AllowAdvertise="yes" ConfigurableDirectory="INSTALLDIR" Description="Swift Windows SDK ($(var.ProcessorArchitecture))" Level="1" Title="Swift Windows SDK ($(var.ProcessorArchitecture))">
      <ComponentGroupRef Id="XCTest" />
      <ComponentGroupRef Id="SwiftRemoteMirror" />
      <ComponentGroupRef Id="BlocksRuntime" />
      <ComponentGroupRef Id="libdispatch" />
      <ComponentGroupRef Id="_Concurrency" />
      <ComponentGroupRef Id="_Differentiation" />
      <ComponentGroupRef Id="_RegexParser" />
      <ComponentGroupRef Id="_StringProcessing" />
      <ComponentGroupRef Id="CRT" />
      <ComponentGroupRef Id="Cxx" />
      <ComponentGroupRef Id="Distributed" />
      <ComponentGroupRef Id="Foundation" />
      <ComponentGroupRef Id="FoundationXML" />
      <ComponentGroupRef Id="FoundationNetworking" />
      <ComponentGroupRef Id="Swift" />
      <ComponentGroupRef Id="SwiftOnoneSupport" />
      <ComponentGroupRef Id="WinSDK" />
      <ComponentGroupRef Id="libcxxshim" />
      <ComponentGroupRef Id="Registrar" />
      <ComponentGroupRef Id="AuxiliaryFiles" />
      <ComponentGroupRef Id="Configuration" />

      <ComponentGroupRef Id="SwiftShims" />

      <ComponentGroupRef Id="EnvironmentVariables" />
    </Feature>

    <UI>
      <ui:WixUI Id="WixUI_InstallDir" />
      <Publish Dialog="WelcomeDlg" Control="Next" Event="NewDialog" Value="InstallDirDlg" Order="2" />
      <Publish Dialog="InstallDirDlg" Control="Back" Event="NewDialog" Value="WelcomeDlg" Order="2" />
    </UI>

    <Property Id="WIXUI_INSTALLDIR" Value="INSTALLDIR"></Property>

    <WixVariable Id="WixUIDialogBmp" Value="Resources\swift_dialog.png" />
    <WixVariable Id="WixUIBannerBmp" Value="Resources\swift_banner.png" />
  </Package>
</Wix>
