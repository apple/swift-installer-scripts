<Project Sdk="WixToolset.Sdk/4.0.1">
  <PropertyGroup>
    <DefineConstants>
      $(DefineConstants);
      PLATFORM_ROOT=$(PLATFORM_ROOT);
      SDK_ROOT=$(SDK_ROOT);
      SwiftShimsPath=$(SDK_ROOT)\usr\lib\swift\shims;
    </DefineConstants>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="WixToolset.Heat" Version="4.0.1" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\rtl\msm\rtlmsm.wixproj" Properties="ProductArchitecture=x86" BindName="rtlmsm.x86" />
    <ProjectReference Include="..\rtl\msm\rtlmsm.wixproj" Properties="ProductArchitecture=amd64" BindName="rtlmsm.amd64" />
    <ProjectReference Include="..\rtl\msm\rtlmsm.wixproj" Properties="ProductArchitecture=arm64" BindName="rtlmsm.arm64" />
  </ItemGroup>

  <ItemGroup>
    <HarvestDirectory Include="$(SDK_ROOT)\usr\lib\swift\shims">
      <ComponentGroupName>SwiftShims</ComponentGroupName>
      <DirectoryRefId>WindowsSDK_usr_lib_swift_shims</DirectoryRefId>
      <PreprocessorVariable>var.SwiftShimsPath</PreprocessorVariable>
      <SuppressCom>true</SuppressCom>
      <SuppressRegistry>true</SuppressRegistry>
      <SuppressRootDirectory>true</SuppressRootDirectory>
    </HarvestDirectory>
  </ItemGroup>
</Project>
